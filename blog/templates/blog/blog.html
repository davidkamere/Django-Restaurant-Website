{% extends "base.html" %}
{% load static %}
{% block content %}
    {% if user.is_authenticated %}
    <div class="ui hidden divider"></div>
    <div class="right aligned container">
        <button class="ui right floated secondary button" style="text-decoration:none">
         <a href="{% url 'the_blog:logout' %}" style="text-decoration:none; color:white">Logout</a>
        </button>
    </div>
    <div class="ui hidden divider"></div>
    <div class="ui hidden divider"></div>
    <div class="ui hidden divider"></div>
    {% endif %}
    <div class="center aligned fluid ui container">
    <div class="ui labeled icon left floated inverted vertical menu" style="margin-right: 40px ; margin-left: -25px; border: thin solid #EFC008; background: black " >

        <div class="item" id="dmt">
            <i class="large bars icon"></i>
        </div>

    </div>
    <div class="center aligned sixteen wide column" id="v_menu">
                <div class="ui hidden divider"></div>
                <span>
                    <a class="active item" style="color: black; text-decoration: none; margin: 0 30px" href="{% url 'the_blog:index' %}" id="headmenu">
                      HOME
                    </a>
                </span>
	        <span style="border: 1px solid #EFEFEF;padding: 20px 5px" id="headmenu">
                    <a class="item" style="color: #EFC008; text-decoration: none; margin: 0 35px" href="{% url 'the_blog:blog' %}" id="headmenu">
                      BLOG
                    </a>
                </span>
                
                <a href="{% url 'the_blog:index' %}" style="text-decoration: none">
                    <img src="{% static "/media/landing/circle-cropped.png" %}"
                                 alt="My image" style="max-height: 150px; max-width: 150px ; margin: 0px 40px 10px ; border:0">
                </a>
                <span >
                    <a class="item" style="color: black; text-decoration: none; margin: 0 35px" href="{% url 'the_menu:menu' %}" id="headmenu">
                      MENU
                    </a>
                </span>
                <span>
                    <a class="item" style="color: black; text-decoration: none; margin: 0 35px" href="{% url 'the_blog:about' %}" id="headmenu">
                      ABOUT
                    </a>
                </span>
    </div>
    </div>
    <div class="ui sidebar vertical menu" style="text-decoration: none">
            <div class="ui hidden divider"></div>
            <div class="ui hidden divider"></div>
            <div class="ui hidden divider"></div>
            <div class="ui hidden divider"></div>
            <a style="color:black;text-decoration:none; padding:20px; margin:0px 110px 0px 60px" href="{% url 'the_blog:index' %}">
               HOME
            </a>
            <div class="ui hidden divider"></div>
            <div class="ui hidden divider"></div>


	    <a style="color: #EFC008; margin:0px 110px 0px 60px; padding:20px" href="{% url 'the_blog:blog' %}">
               BLOG
            </a>
            
            <div class="ui hidden divider"></div>
            <div class="ui hidden divider"></div>


            <a style="color:black;text-decoration:none; padding:20px; margin:0px 110px 0px 60px" href="{% url 'the_menu:menu' %}" >
               MENU
            </a>
            <div class="ui hidden divider"></div>
            <div class="ui hidden divider"></div>
           

            <a style="color:black;text-decoration:none; padding:20px; margin:0 110px 0 60px" href="{% url 'the_blog:about' %}">
               ABOUT
            </a>
            <div class="ui hidden divider"></div>
            <div class="ui hidden divider"></div>
            <div class="ui hidden divider"></div>

    </div>
    <div class="ui hidden divider"></div>
    <div class="ui hidden divider"></div>
    <div class="ui grid">
       <div class="ui sixteen wide center aligned column">
           <span id="head2" style="color:silver; font-weight: bold; letter-spacing: 2px">NEWS, RECIPES AND MUCH MORE</span>
       </div>
    </div>


    {% if user.is_authenticated %}
                    <a class="ui centered olive card" href="{% url 'the_blog:create' %}" style="background-color: black; margin-top: 50px">
                      <div class="content">
                          <div class="center aligned header">

                          </div>
                        <div class="center aligned description" style="padding: 10px">
                          <h3 style="color: white; font-size: 18px" id="base2">Click me to ADD a NEW POST</h3>
                        </div>
                      </div>
                      <div class="extra content">
                        <div class="center aligned author">
                            <i class="yellow large plus icon"></i>
                            <i class="black large pencil alternate icon"></i>
                        </div>
                      </div>
                      </a>
                    </div>
                    <div class="ui hidden divider"></div>
                    <div class="ui hidden divider"></div>

     {% endif %}

    <div class="ui hidden divider"></div>
    <div class="ui hidden divider"></div>

    <div class="ui container">
        {% for post in posts %}
        <div class="ui stackable center aligned  grid" style="padding:45px 30px">
            <div class="ui row">
                <a href="{% url 'the_blog:post' post.id %}" style="text-decoration:none; color:black"><div class="ui three wide column">
                    <img src="{{post.header_image.url}}" id="images" alt="My image" style="max-height: 200px;
                 width: 200px;object-fit: scale-down;padding: 10px; margin-top: 20px">
                </div></a>
		<div class="ui hidden divider" style="margin-top:30px;"></div>
   		<div class="ui hidden divider" style="margin-top:30px;"></div>
                <div class="ui six wide left aligned column" style="margin:auto; padding: 20px 10px">
                    <div class="ui row">
                        <div class="ui center aligned column" style="margin:0;" id="head2">
                            <a href="{% url 'the_blog:post' post.id %}" style="text-decoration:none; color:#EFC008; letter-spacing: 3px;"><b>{{ post.title|upper }} </b></a>
                        </div>
                    </div>
                    <div class="ui hidden divider"></div>
                    <a href="{% url 'the_blog:post' post.id %}" style="text-decoration:none; color:black"><div class="ui row">
                        <div class="ui left aligned column" style="margin:0;" id="desc">
                            {{ post.content|safe|truncatewords:30}}
                        </div>
                    </div></a>

                </div>
                <div class="ui two wide center aligned column" style="margin:auto; color:#efefef; font-weight: bold" id="category">{{ post.get_category_display|upper}}</div>
                <div class="ui three wide center aligned column" style="margin:auto; color:#efefef; font-weight: bold">{{ post.date_added|date:"d/m/Y" }}</div>
            </div>
	    <div class="ui divider" style="margin-top:15px"></div>

        </div>
        {% endfor %}


    </div>
    <div class="ui hidden divider"></div>
    <div class="ui hidden divider"></div>
    <div class="ui right aligned container" style="margin-bottom: 20px; margin-top: -10px">
            <div class="ui inverted pagination menu" style="margin-bottom: 20px">
                {% if posts.has_previous %}
                    <!--<a href="?page=1">&laquo; first</a>-->
                    <a href="?page={{ posts.previous_page_number }}" class="ui item"><i class="angle double left icon"></i></a>
                {% endif %}

                <div class="ui item">
                    Page {{ posts.number }} / {{ posts.paginator.num_pages }}
                </div>

                {% if entries.has_next %}
                    <a href="?page={{ posts.next_page_number }}" class="ui item" ><i class="angle double right icon"></i></a>
                    <!--<a href="?page={{ posts.paginator.num_pages }}">last &raquo;</a>-->
                {% endif %}
            </div>
   </div>
    <div class="ui hidden divider"></div>
    <div class="ui hidden divider"></div>
    <div class="ui hidden divider"></div>
    <div class="ui hidden divider"></div>
     <div class="ui center aligned fluid container" style="margin:auto; padding: 2px 3%" >
        <div class="ui center aligned grid" style="background-color: black;">
            <div class="sixteen wide center aligned column" style="margin-top: 4px; margin-bottom: 1px">
                <p style="color: #EFC008;" id="base2" >
                    MAMA'S PLATE
                </p>
            </div>
            <div class="sixteen wide center aligned column" style="margin-top:-3px">
                <span id="bottom_socials">
                      <a href="https://wa.me/254743676796" target="_blank"><button class="ui black circular whatsapp icon button" style="margin: 0 10px">
                          <i class="green whatsapp icon"></i>
                      </button></a>
                      <a href="https://www.instagram.com/mamas.plate/" target="_blank"><button class="ui black circular instagram icon button" style="margin: 0 10px">
                          <i class="pink instagram icon"></i>
                      </button></a>
                      <a href = "mailto: mamasplate1@gmail.com" target="_blank"><button class="ui black circular mail icon button" style="margin: 0 10px">
                          <i class="white mail icon"></i>
                      </button></a>
                  </span>
            </div>
            <div class="sixteen wide center aligned column" >
                <p style="color: white" style="border-bottom:6px solid white" id="desc">
                    Ole-Sangale Link Rd, Nairobi | <a href="tel:+254-743-676-796" style="text-decoration:none; color:white">Tel: 0743 676796</a>
                </p>
            </div>

        </div>
    </div>
    <div class="ui hidden divider"></div>



















    <style type="text/css">
        body {

              background-repeat: repeat;
              background-size: cover;
              background-position: center;


            }
        .ui.icon.vertical.menu{
                display: none;
            }

        #title{
           font-family: 'Cabin Sketch', cursive;
           font-size:45px;
           letter-spacing: 3px;
           font-weight:bold;
        }
        #head1{
            font-family: 'Cabin Sketch', cursive;
            font-size:35px;

        }
        #head2{
            font-family: 'Josefin Sans', sans-serif;
            font-size: 16px;
            font-weight: 500;
        }
        #base2{
            font-family: 'Josefin Sans', sans-serif;
            font-size: 16px;
            font-weight: 500;
            letter-spacing: 3px;
        }

        #desc{
            font-family: 'Josefin Sans', sans-serif;
            font-size: 16px;
            font-weight: 500;
            letter-spacing: 1px;
        }
        #headmenu {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 16px;
            font-weight: 500;
        }
        #price{
            font-family: 'Josefin Sans', sans-serif;
            font-size: 18px;
            font-weight: 500;
        }
        #menu_item {
            font-size: 14px;
            letter-spacing: 2px;
            }

        #menu {
            margin-left: initial;
            }
        @media only screen and (max-width: 1200px) {
            #images{
               width: 355px !important;

            }
            #headmenu{
                display: none;
            }
            #category{
                display: none;
            }
            .ui.icon.vertical.menu{
              display: block;
              position: fixed; /* Set the navbar to fixed position */
              top: 20.5%; /* Position the navbar at the top of the page */
              z-index: 1;
            }
            #menu{
                margin-left: 0;
            }
            #length{
                width:initial;
            }
            #price{
                margin: auto;
            }
            #dish{
                margin: auto;
                padding: 0;
            }
            #description{
                margin: auto;
                padding: 0;
            }


        }
        /*@media only screen and (max-width: 767px) {
            #sandwich{
                display: inline !important;
                margin-right: -60px;
            }
            .stackable.compact.menu{
                display: none !important;
            }
        }*/
    </style>
{% block scripts %}
    <script type="text/javascript">
        $('#dmt').on('click', function () {
            $('.ui.sidebar').sidebar('toggle');
    });
    </script>
{% endblock scripts %}
{%  endblock content %}